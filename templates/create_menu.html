{% extends "base.html" %}

{% block title %}Create Menu - Personal Chef Marketplace{% endblock %}

{% block content %}
<div class="container mt-4">
    <div class="row">
        <div class="col-12">
            <h1 class="display-5 fw-bold mb-4">Create New Menu</h1>
            <p class="lead text-muted mb-5">Design a culinary experience for your clients</p>
        </div>
    </div>

    <div class="row">
        <div class="col-lg-8">
            <div class="card">
                <div class="card-body">
                    <form method="POST">
                        {{ form.hidden_tag() }}
                        
                        <div class="row g-3">
                            <div class="col-12">
                                <label for="{{ form.name.id }}" class="form-label">Menu Name</label>
                                {{ form.name(class="form-control") }}
                                {% if form.name.errors %}
                                    <div class="text-danger small">
                                        {% for error in form.name.errors %}
                                            <div>{{ error }}</div>
                                        {% endfor %}
                                    </div>
                                {% endif %}
                            </div>
                            
                            <div class="col-12">
                                <label for="{{ form.description.id }}" class="form-label">Description</label>
                                {{ form.description(class="form-control", rows="4") }}
                                {% if form.description.errors %}
                                    <div class="text-danger small">
                                        {% for error in form.description.errors %}
                                            <div>{{ error }}</div>
                                        {% endfor %}
                                    </div>
                                {% endif %}
                            </div>
                            
                            <div class="col-md-6">
                                <label for="{{ form.cuisine_type.id }}" class="form-label">Cuisine Type</label>
                                {{ form.cuisine_type(class="form-control") }}
                                {% if form.cuisine_type.errors %}
                                    <div class="text-danger small">
                                        {% for error in form.cuisine_type.errors %}
                                            <div>{{ error }}</div>
                                        {% endfor %}
                                    </div>
                                {% endif %}
                            </div>
                            
                            <div class="col-md-6">
                                <label for="{{ form.price_per_person.id }}" class="form-label">Price Per Person ($)</label>
                                {{ form.price_per_person(class="form-control") }}
                                {% if form.price_per_person.errors %}
                                    <div class="text-danger small">
                                        {% for error in form.price_per_person.errors %}
                                            <div>{{ error }}</div>
                                        {% endfor %}
                                    </div>
                                {% endif %}
                            </div>
                            
                            <div class="col-md-4">
                                <label for="{{ form.min_guests.id }}" class="form-label">Minimum Guests</label>
                                {{ form.min_guests(class="form-control") }}
                                {% if form.min_guests.errors %}
                                    <div class="text-danger small">
                                        {% for error in form.min_guests.errors %}
                                            <div>{{ error }}</div>
                                        {% endfor %}
                                    </div>
                                {% endif %}
                            </div>
                            
                            <div class="col-md-4">
                                <label for="{{ form.max_guests.id }}" class="form-label">Maximum Guests</label>
                                {{ form.max_guests(class="form-control") }}
                                {% if form.max_guests.errors %}
                                    <div class="text-danger small">
                                        {% for error in form.max_guests.errors %}
                                            <div>{{ error }}</div>
                                        {% endfor %}
                                    </div>
                                {% endif %}
                            </div>
                            
                            <div class="col-md-4">
                                <label for="{{ form.preparation_time_hours.id }}" class="form-label">Preparation Time (hours)</label>
                                {{ form.preparation_time_hours(class="form-control") }}
                                {% if form.preparation_time_hours.errors %}
                                    <div class="text-danger small">
                                        {% for error in form.preparation_time_hours.errors %}
                                            <div>{{ error }}</div>
                                        {% endfor %}
                                    </div>
                                {% endif %}
                            </div>
                            
                            <div class="col-12">
                                <label for="{{ form.is_customizable.id }}" class="form-label">Is this menu customizable?</label>
                                {{ form.is_customizable(class="form-select") }}
                                {% if form.is_customizable.errors %}
                                    <div class="text-danger small">
                                        {% for error in form.is_customizable.errors %}
                                            <div>{{ error }}</div>
                                        {% endfor %}
                                    </div>
                                {% endif %}
                            </div>
                            
                            <div class="col-12">
                                <label for="{{ form.courses.id }}" class="form-label">Courses (one per line)</label>
                                {{ form.courses(class="form-control", rows="6", placeholder="Appetizer: Mast-o-Khiar\nMain: Ghormeh Sabzi with Tahdig\nDessert: Sholeh Zard\nBeverage: Persian Tea") }}
                                {% if form.courses.errors %}
                                    <div class="text-danger small">
                                        {% for error in form.courses.errors %}
                                            <div>{{ error }}</div>
                                        {% endfor %}
                                    </div>
                                {% endif %}
                            </div>
                            
                            <div class="col-12">
                                <label for="{{ form.ingredients.id }}" class="form-label">Key Ingredients</label>
                                {{ form.ingredients(class="form-control", rows="3", placeholder="Saffron, Basmati rice, Lamb, Fresh herbs, Persian spices") }}
                                {% if form.ingredients.errors %}
                                    <div class="text-danger small">
                                        {% for error in form.ingredients.errors %}
                                            <div>{{ error }}</div>
                                        {% endfor %}
                                    </div>
                                {% endif %}
                            </div>
                            
                            <div class="col-12">
                                <label for="{{ form.dietary_accommodations.id }}" class="form-label">Dietary Accommodations</label>
                                {{ form.dietary_accommodations(class="form-control", rows="3", placeholder="Halal, Vegetarian, Gluten-Free options available") }}
                                {% if form.dietary_accommodations.errors %}
                                    <div class="text-danger small">
                                        {% for error in form.dietary_accommodations.errors %}
                                            <div>{{ error }}</div>
                                        {% endfor %}
                                    </div>
                                {% endif %}
                            </div>
                            
                            <div class="col-12">
                                <button type="submit" class="btn btn-primary btn-lg">
                                    <i class="fas fa-plus me-2"></i>Create Menu
                                </button>
                                <a href="{{ url_for('dashboard') }}" class="btn btn-outline-secondary btn-lg ms-2">
                                    <i class="fas fa-times me-2"></i>Cancel
                                </a>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
        
        <div class="col-lg-4">
            <div class="card">
                <div class="card-body">
                    <h5>Menu Creation Tips</h5>
                    <ul class="list-unstyled">
                        <li class="mb-2">
                            <i class="fas fa-lightbulb text-warning me-2"></i>
                            <strong>Clear Name:</strong> Choose a descriptive name that reflects the cuisine and style
                        </li>
                        <li class="mb-2">
                            <i class="fas fa-lightbulb text-warning me-2"></i>
                            <strong>Detailed Description:</strong> Explain what makes this menu special
                        </li>
                        <li class="mb-2">
                            <i class="fas fa-lightbulb text-warning me-2"></i>
                            <strong>Realistic Pricing:</strong> Consider ingredient costs and preparation time
                        </li>
                        <li class="mb-2">
                            <i class="fas fa-lightbulb text-warning me-2"></i>
                            <strong>Guest Limits:</strong> Set appropriate minimum and maximum guest counts
                        </li>
                        <li class="mb-2">
                            <i class="fas fa-lightbulb text-warning me-2"></i>
                            <strong>Course Structure:</strong> List each course with clear descriptions
                        </li>
                        <li class="mb-2">
                            <i class="fas fa-lightbulb text-warning me-2"></i>
                            <strong>Dietary Options:</strong> Highlight any special dietary accommodations
                        </li>
                    </ul>
                </div>
            </div>
            
            <div class="card mt-4">
                <div class="card-body">
                    <h6>Example Menu Structure</h6>
                    <div class="small text-muted">
                        <strong>Appetizer:</strong> Mast-o-Khiar (Persian yogurt with cucumber)<br>
                        <strong>Main Course:</strong> Ghormeh Sabzi with Tahdig<br>
                        <strong>Side:</strong> Basmati rice with saffron<br>
                        <strong>Dessert:</strong> Sholeh Zard (Persian rice pudding)<br>
                        <strong>Beverage:</strong> Traditional Persian tea
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}
